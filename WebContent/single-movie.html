<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Movie Details</title>
  <link rel="stylesheet" href="/styles/single-movie.css">
</head>
<body class="single-movie">
<h1>Movie Information</h1>
<div id="movie-detail"></div>

<script>
  const urlParams = new URLSearchParams(window.location.search);
  const movieId = urlParams.get("id");

  fetch(`api/single-movie?id=${movieId}`)
          .then(response => response.json())
          .then(data => {
            const movie = data;
            const container = document.getElementById("movie-detail");

            const html = `
                <h2>${movie.title} (${movie.year})</h2>
                <p><strong>Director:</strong> ${movie.director}</p>
                <p><strong>Genres:</strong> ${movie.genres.join(", ")}</p>
                <p><strong>Stars:</strong> ${movie.stars.map(s => `<a href="single-star.html?id=${s.id}">${s.name}</a>`).join(", ")}</p>
                <p><strong>Rating:</strong> ${movie.rating}</p>
            `;
            container.innerHTML = html;
          })
          .catch(error => {
            document.body.innerHTML += `<p>Loading Error: ${error}</p>`;
          });
</script>
</body>
<p class="back-link"><a href="movie-list.html">Back to Movie List</a></p>
</html>
